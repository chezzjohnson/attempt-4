**User Flow Diagram: Trip Lifecycle to Integration**

This diagram breaks down the core flow from initiating a new psychedelic trip through post-trip integration, focusing on intentions, journaling, and insights.

---

### 1. New Trip Initiation

**Entry Point:** User selects "New Trip" from dashboard

* âœ… Select substance type & dose
* âœ… Review safety checklist
* âœ… Add Trip Sitter info
* âœ… Check set & setting
* âœ… Set intentions (1+ intention statements)

  * Intentions are stored
* âœ… Final confirmation to lock in trip

**â†“ Transition to Trip Mode**

---

### 2. Active Trip Mode (Locked UI)

**Locked Interface:** Only current phase screen is visible

* âœ… Shows trip phase (come-up, peak, comedown)
* âœ… Intentions are displayed

  * Users can view their list of intentions
  * Add notes per intention (text or voice-to-text)
  * Add Additional Intentions/Revise Existing Intentions
* âœ… General notes (non-intention specific) also allowed
* âœ… Trip Sitter button always available

**â†“ After trip duration completes**

---

### 3. Immediate Post-Trip Flow

**Triggered automatically after trip ends**

* âœ… Prompt: Rate how well each intention was integrated (1-5 scale)
  * 1: Not at all
  * 2: Not very
  * 3: Somewhat
  * 4: Well
  * 5: Very well
* âœ… Add optional reflection notes per intention
* âœ… Add final general trip journal entry
* âœ… Trip summary compiled (AI or manual)

**â†“ Trip data stored in Insights + History**

---

### 4. Integration + Follow-up (Insights Tab)

**Stored with timestamped metadata**

* âœ… View trip card in History (opens in Insights)
* âœ… Insights tab shows:
  * Sortable intention list
  * Cross-trip intention tracking
  * Integration ratings + follow-up tracker (7d, 14d, 30d)
    * Prompt: "How well has intention X been integrated?" (1-5 scale)
  * New notes/ratings added to intention journal at each interval
  * General insights / AI-generated growth reflections
  * Visual indicators of integration progress across trips

---

### 5. Insights Completion

**Long-term view of user's growth**

* âœ… Users can revisit and update insights
* âœ… Track overall progress on recurring intentions across trips
* âœ… View patterns in intention integration across different experiences
* âœ… Use data to inform next trip planning
* âœ… Tag and categorize intentions for better organization

This flow helps guide database and UI decisions while maintaining scalability.

---

### ðŸ“¦ Database Schema (Initial Proposal)

#### **Users**

* `id` (PK)
* `email`
* `password_hash`
* `created_at`

#### **Trips**

* `id` (PK)
* `user_id` (FK â†’ Users)
* `date`
* `substance`
* `dose`
* `set_description`
* `setting_description`
* `safety_check_complete` (boolean)
* `trip_summary`
* `created_at`

#### **Intentions**

* `id` (PK)
* `trip_id` (FK â†’ Trips)
* `text`
* `created_at`

#### **IntentionNotes**

* `id` (PK)
* `intention_id` (FK â†’ Intentions)
* `text`
* `timestamp`
* `source` (enum: "during\_trip", "post\_trip", "follow\_up")
* `created_at`

#### **TripNotes**

* `id` (PK)
* `trip_id` (FK â†’ Trips)
* `text`
* `timestamp`
* `source` (enum: "during\_trip", "post\_trip")
* `created_at`

#### **IntentionRatings**

* `id` (PK)
* `intention_id` (FK â†’ Intentions)
* `rating`
* `phase` (enum: "post\_trip", "follow\_up\_7d", "follow\_up\_14d", "follow\_up\_30d")
* `created_at`

#### **TripSitter**

* `id` (PK)
* `user_id` (FK â†’ Users)
* `name`
* `phone`
* `relationship`
* `is_trip_sitter` (boolean)

This schema supports the current trip lifecycle, intention tracking, journaling, and follow-up features, and is scalable for deeper insights, reminders, and analytics down the line.
